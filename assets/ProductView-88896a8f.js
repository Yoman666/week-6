import{_ as l,o as p,c as h,a as t,t as a,F as _}from"./index-98988ecf.js";const{VITE_API:i,VITE_PATH:n}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"yoyo123456",BASE_URL:"/week-6/",MODE:"production",DEV:!1,PROD:!0},u={data(){return{product:{},cart:{}}},methods:{getCarts(){const s=`${i}/api/${n}/cart`;this.$http.get(s).then(o=>{console.log("取得購物車表",o.data),this.cart=o.data.data})},updateCarts(s){const o={product_id:s.id,qty:s.qty},c=`${i}/api/${n}/cart/${s.id}`;this.$http.put(c,{data:o}).then(r=>{this.loadingStatus.loadingItem="",console.log("更新購物車",r.data),this.getCarts()}).catch(r=>{alert(r.response.data.message),this.loadingStatus.loadingItem=""})},getProduct(){console.log("id位置",this.$route.params);const{id:s}=this.$route.params;this.$http.get(`${i}/api/${n}/product/${s}`).then(o=>{console.log("單一產品資料",o),this.product=o.data.product})},addToCart(s){const o={product_id:s,qty:1};this.$http.post(`${i}/api/${n}/cart`,{data:o}).then(c=>{console.log("購物車",c),this.cart=c.data})}},mounted(){this.getProduct(),this.getCarts()}},g={class:"product-section01"},m={class:"container"},x={class:"d-flex flex-row row"},$=["src"],y={class:"col-6"},f={class:"text-title"},v={class:"product-table lable-text"},T={class:"text-container my-4"},w={class:"product-price my-4"},E={class:"row"},I={class:"col-6 center"},P={class:"product-section02"},C={class:"container center"},V=t("h3",{class:"my-2 text-title text-center"},"產品介紹",-1),b={class:"text-container my-4 text-center"};function k(s,o,c,r,e,d){return p(),h(_,null,[t("section",g,[t("div",m,[t("div",x,[t("img",{src:e.product.imageUrl,style:{"max-width":"100%","object-fit":"cover"},class:"col-6"},null,8,$),t("div",y,[t("h2",f,a(e.product.title),1),t("p",v,a(e.product.category),1),t("p",T,a(e.product.description),1),t("p",w,"NT$"+a(e.product.price),1),t("div",E,[t("div",I,[t("a",{class:"text-nowrap btn btn-dark w-100 py-2 lable-text",onClick:o[0]||(o[0]=A=>d.addToCart(e.product.id))},"加入購物車")])])])])])]),t("section",P,[t("div",C,[V,t("p",b,a(e.product.content),1)])])],64)}const D=l(u,[["render",k]]);export{D as default};
